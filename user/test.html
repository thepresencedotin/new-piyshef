<!DOCTYPE html>
<html>

<head>
    <title>YouTube IFrame API Example</title>

    <!--Load YouTube "iframe_api" asynchronously-->
    <script async src="https://www.youtube.com/iframe_api"></script>

    <style>
        * {
            font: 18px Calibri;
        }
    </style>
</head>

<body>
    <h3>
        This YouTube video in on Mute mode, on it loads.
    </h3>
    <div id="div_YouTube"></div>
</body>

<script>
    function onYouTubeIframeAPIReady() {
        console.log("start")
        var player;

        player = new YT.Player('div_YouTube', {
            videoId: 'ERDmoxOSB7w',   // The video id.
            width: 560,
            height: 316,
            playerVars: {
                'autoplay': 0,		// Autoplay when page loads.
                'controls': 1,
                'showinfo': 0,
                'modestbranding': 0,
                'loop': 1,
                'fs': 0,
                'cc_load_policty': 0,
                'iv_load_policy': 3
            },
            events: {
                'onReady': function (e) {
                    // document.getElementById("div_YouTube").click();
                    console.log("onready function", e)
                    e.target.unMute();
                    e.target.setVolume(50); // For max value, set value as 100.
                    console.log(e.target)
                    console.log(e.target.playVideo())
                    // e.playVideo()
                    play()
                }
            }
        });
    }

    function play() {
        console.log("play run")
        document.getElementById("div_YouTube").click();
        $('div_YouTube').click(function () {
            $('div_YouTube')[0].contentWindow.postMessage('{"event":"command","func":"' + 'playVideo' + '","args":""}', '*');
        });
    }




    var scriptUrl = 'https:\/\/www.youtube.com\/s\/player\/1c732901\/www-widgetapi.vflset\/www-widgetapi.js';
    if (!window["YT"])
        var YT = {
            loading: 0,
            loaded: 0
        };
    if (!window["YTConfig"])
        var YTConfig = {
            "host": "https://www.youtube.com"
        };
    if (!YT.loading) {
        YT.loading = 1;
        (function () {
            var l = [];
            YT.ready = function (f) {
                if (YT.loaded)
                    f();
                else
                    l.push(f)
            }
                ;
            window.onYTReady = function () {
                YT.loaded = 1;
                for (var i = 0; i < l.length; i++)
                    try {
                        l[i]()
                    } catch (e) { }
            }
                ;
            YT.setConfig = function (c) {
                for (var k in c)
                    if (c.hasOwnProperty(k))
                        YTConfig[k] = c[k]
            }
                ;
            var a = document.createElement("script");
            a.type = "text/javascript";
            a.id = "www-widgetapi-script";
            a.src = scriptUrl;
            a.async = true;
            var c = document.currentScript;
            if (c) {
                var n = c.nonce || c.getAttribute("nonce");
                if (n)
                    a.setAttribute("nonce", n)
            }
            var b = document.getElementsByTagName("script")[0];
            b.parentNode.insertBefore(a, b)
        }
        )()
    }
    ;
</script>

</html>